package Maven_examples;

import org.openqa.selenium.*;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.support.ui.*;

import java.time.Duration;

public class contact_rental_ex {
    public static void main(String[] args) {
        WebDriver driver = new FirefoxDriver();
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        driver.get("https://www.mycontactform.com/samples/rental.php");

        try {
            // ‚ùå Invalid input in First Name (numbers instead of letters)
            WebElement firstName = driver.findElement(By.xpath("//input[@type='text' and @name='q1']"));
            firstName.clear();
            firstName.sendKeys("1234");
            System.out.println("Entered invalid first name: 1234");

            // üîò Leave "Smoker?" radio buttons unselected
            System.out.println("No radio button selected for 'Smoker?'");

            // ‚úÖ Leave "Pets?" checkbox unchecked
            WebElement petsCheckbox = driver.findElement(By.xpath("//input[@type='checkbox' and @name='q20[]']"));
            if (petsCheckbox.isSelected()) {
                petsCheckbox.click();
            }
            System.out.println("Checkbox for 'Pets?' left unchecked");

            // Submit the form
            WebElement submitButton = driver.findElement(By.xpath("//input[@type='submit' and @name='submit']"));
            submitButton.click();
            System.out.println("Form submitted");

            // Wait for validation errors
            WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));
            WebElement errorBox = wait.until(ExpectedConditions.visibilityOfElementLocated(
                By.xpath("//div[@id='error_box']")));

            // Print all validation errors
            System.out.println("Validation errors:");
            System.out.println(errorBox.getText());

        } catch (Exception e) {
            System.out.println("Validation error not found or unexpected issue: " + e.getMessage());
        } finally {
            driver.quit();
        }
    }
}
