package Maven_examples;

import org.openqa.selenium.*;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.support.ui.*;
import io.github.bonigarcia.wdm.WebDriverManager;

import java.time.Duration;

public class contact_rental_ex {
    public static void main(String[] args) {
        WebDriverManager.firefoxdriver().setup();
        WebDriver driver = new FirefoxDriver();
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        driver.get("https://www.mycontactform.com/samples/rental.php");

        try {
            WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));

            // First Name (invalid)
            WebElement firstName = wait.until(ExpectedConditions.elementToBeClickable(
                By.name("q1")));
            firstName.clear();
            firstName.sendKeys("1234");

            // Leave Smoker? unselected
            System.out.println("No radio button selected for 'Smoker?'");

            // Ensure Pets? unchecked
            WebElement petsCheckbox = driver.findElement(By.name("q20[]"));
            if (petsCheckbox.isSelected()) {
                petsCheckbox.click();
            }

            // Leave Email empty
            driver.findElement(By.name("email")).clear();

            // Submit
            driver.findElement(By.name("submit")).click();

            // Capture errors
            WebElement errorBox = wait.until(ExpectedConditions.presenceOfElementLocated(
                By.id("error_box")));
            System.out.println("Validation errors:\n" + errorBox.getText());

        } catch (Exception e) {
            System.out.println("Validation error not found or unexpected issue: " + e.getMessage());
        } finally {
            driver.quit();
        }
    }
}
